{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\wasif\\\\OneDrive\\\\Desktop\\\\weather app proj\\\\frontend\\\\src\\\\components\\\\AnomalyChart.tsx\";\nimport React from 'react';\nimport { Chart as ChartJS, CategoryScale, LinearScale, PointElement, LineElement, Title, Tooltip, Legend, ScatterController } from 'chart.js';\nimport { Scatter } from 'react-chartjs-2';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nChartJS.register(CategoryScale, LinearScale, PointElement, LineElement, Title, Tooltip, Legend, ScatterController);\nconst AnomalyChart = ({\n  anomalies,\n  loading\n}) => {\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card animate-slide-up\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-xl font-bold text-gray-800 mb-4 flex items-center gap-2\",\n        children: \"\\uD83D\\uDCCA Anomaly Distribution (Z-Score Analysis)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"h-96 flex items-center justify-center\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"animate-pulse text-gray-500\",\n          children: \"Loading anomaly data...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, this);\n  }\n  if (!anomalies || anomalies.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card animate-slide-up\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-xl font-bold text-gray-800 mb-4 flex items-center gap-2\",\n        children: \"\\uD83D\\uDCCA Anomaly Distribution (Z-Score Analysis)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"h-96 flex items-center justify-center\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center text-gray-500\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-lg mb-2\",\n            children: \"No anomalies detected\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm\",\n            children: \"Run anomaly detection to see results\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Extract year from description and prepare data for scatter plot\n  const chartData = anomalies.map(anomaly => {\n    // Try to extract year from description\n    const yearMatch = anomaly.description.match(/(\\d{4})/);\n    const year = yearMatch ? parseInt(yearMatch[1]) : 2020;\n    return {\n      x: year,\n      y: Math.abs(anomaly.z_score),\n      severity: anomaly.severity,\n      type: anomaly.anomaly_type,\n      description: anomaly.description,\n      value: anomaly.value,\n      expected_value: anomaly.expected_value,\n      z_score: anomaly.z_score,\n      is_significant: anomaly.is_significant,\n      metric_type: anomaly.metric_type\n    };\n  });\n\n  // Separate data by type and severity for better visualization\n  const precipitationData = chartData.filter(d => d.type === 'precipitation');\n  const temperatureData = chartData.filter(d => d.type === 'temperature');\n\n  // Further separate temperature by metric type if available\n  const maxTempData = temperatureData.filter(d => d.metric_type === 'tasmax');\n  const minTempData = temperatureData.filter(d => d.metric_type === 'tasmin');\n  const otherTempData = temperatureData.filter(d => !d.metric_type || d.metric_type !== 'tasmax' && d.metric_type !== 'tasmin');\n  const data = {\n    datasets: [{\n      label: 'Precipitation Anomalies',\n      data: precipitationData,\n      backgroundColor: 'rgba(59, 130, 246, 0.8)',\n      borderColor: 'rgba(59, 130, 246, 1)',\n      pointRadius: context => {\n        const point = context.raw;\n        return point.is_significant ? 8 : 5;\n      },\n      pointHoverRadius: 10\n    }, {\n      label: 'Max Temperature Anomalies',\n      data: maxTempData.length > 0 ? maxTempData : otherTempData.slice(0, Math.ceil(otherTempData.length / 2)),\n      backgroundColor: 'rgba(239, 68, 68, 0.8)',\n      borderColor: 'rgba(239, 68, 68, 1)',\n      pointRadius: context => {\n        const point = context.raw;\n        return point.is_significant ? 8 : 5;\n      },\n      pointHoverRadius: 10\n    }, {\n      label: 'Min Temperature Anomalies',\n      data: minTempData.length > 0 ? minTempData : otherTempData.slice(Math.ceil(otherTempData.length / 2)),\n      backgroundColor: 'rgba(16, 185, 129, 0.8)',\n      borderColor: 'rgba(16, 185, 129, 1)',\n      pointRadius: context => {\n        const point = context.raw;\n        return point.is_significant ? 8 : 5;\n      },\n      pointHoverRadius: 10\n    }]\n  };\n  const options = {\n    responsive: true,\n    maintainAspectRatio: false,\n    plugins: {\n      legend: {\n        position: 'top',\n        labels: {\n          color: '#374151',\n          font: {\n            size: 12\n          },\n          usePointStyle: true\n        }\n      },\n      title: {\n        display: true,\n        text: 'Weather Anomalies by Year and Z-Score (Notebook Methodology)',\n        color: '#1f2937',\n        font: {\n          size: 16,\n          weight: 'bold'\n        }\n      },\n      tooltip: {\n        callbacks: {\n          title: context => {\n            const point = context[0];\n            return `Year: ${point.parsed.x}`;\n          },\n          label: context => {\n            const point = context.raw;\n            const unit = point.type === 'precipitation' ? 'mm' : '°C';\n            return [`${context.dataset.label}`, `Z-Score: ${point.z_score.toFixed(2)} (|${Math.abs(point.z_score).toFixed(2)}|)`, `Actual: ${point.value.toFixed(2)}${unit}`, `Expected: ${point.expected_value.toFixed(2)}${unit}`, `Deviation: ${(point.value - point.expected_value).toFixed(2)}${unit}`, `Significant: ${point.is_significant ? 'Yes (|Z| ≥ 2.0)' : 'No'}`, `Severity: ${point.severity.toUpperCase()}`, `Metric: ${point.metric_type || point.type}`];\n          }\n        }\n      }\n    },\n    scales: {\n      x: {\n        type: 'linear',\n        position: 'bottom',\n        title: {\n          display: true,\n          text: 'Year',\n          color: '#374151',\n          font: {\n            size: 14\n          }\n        },\n        grid: {\n          color: '#e5e7eb',\n          lineWidth: 0.5\n        },\n        ticks: {\n          color: '#6b7280'\n        }\n      },\n      y: {\n        title: {\n          display: true,\n          text: 'Z-Score (Absolute Value)',\n          color: '#374151',\n          font: {\n            size: 14\n          }\n        },\n        grid: {\n          color: '#e5e7eb',\n          lineWidth: 0.5\n        },\n        ticks: {\n          color: '#6b7280'\n        },\n        min: 0\n      }\n    }\n  };\n\n  // Calculate statistics for the info panel\n  const significantAnomalies = anomalies.filter(a => a.is_significant);\n  const extremeAnomalies = anomalies.filter(a => a.severity === 'extreme');\n  const avgZScore = anomalies.reduce((sum, a) => sum + Math.abs(a.z_score), 0) / anomalies.length;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"card animate-slide-up\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"text-xl font-bold text-gray-800 mb-4 flex items-center gap-2\",\n      children: \"\\uD83D\\uDCCA Anomaly Distribution (Z-Score Analysis)\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"h-96 mb-4\",\n      children: /*#__PURE__*/_jsxDEV(Scatter, {\n        data: data,\n        options: options\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-4 gap-4 text-sm bg-gray-50 p-4 rounded-lg\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"font-semibold text-gray-700\",\n          children: \"Total Anomalies\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-2xl font-bold text-blue-600\",\n          children: anomalies.length\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"font-semibold text-gray-700\",\n          children: \"Significant (|Z| \\u2265 2)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-2xl font-bold text-green-600\",\n          children: significantAnomalies.length\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-xs text-gray-500\",\n          children: [(significantAnomalies.length / anomalies.length * 100).toFixed(1), \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"font-semibold text-gray-700\",\n          children: \"Extreme Events\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-2xl font-bold text-red-600\",\n          children: extremeAnomalies.length\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-xs text-gray-500\",\n          children: [(extremeAnomalies.length / anomalies.length * 100).toFixed(1), \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"font-semibold text-gray-700\",\n          children: \"Avg |Z-Score|\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-2xl font-bold text-purple-600\",\n          children: avgZScore.toFixed(2)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-4 text-sm text-gray-600\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Notebook Methodology:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 11\n        }, this), \" Larger points indicate statistically significant anomalies (|Z-score| \\u2265 2.0). Z-scores calculated using monthly anomaly standard deviations from historical baselines.\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 222,\n    columnNumber: 5\n  }, this);\n};\n_c = AnomalyChart;\nexport default AnomalyChart;\nvar _c;\n$RefreshReg$(_c, \"AnomalyChart\");","map":{"version":3,"names":["React","Chart","ChartJS","CategoryScale","LinearScale","PointElement","LineElement","Title","Tooltip","Legend","ScatterController","Scatter","jsxDEV","_jsxDEV","register","AnomalyChart","anomalies","loading","className","children","fileName","_jsxFileName","lineNumber","columnNumber","length","chartData","map","anomaly","yearMatch","description","match","year","parseInt","x","y","Math","abs","z_score","severity","type","anomaly_type","value","expected_value","is_significant","metric_type","precipitationData","filter","d","temperatureData","maxTempData","minTempData","otherTempData","data","datasets","label","backgroundColor","borderColor","pointRadius","context","point","raw","pointHoverRadius","slice","ceil","options","responsive","maintainAspectRatio","plugins","legend","position","labels","color","font","size","usePointStyle","title","display","text","weight","tooltip","callbacks","parsed","unit","dataset","toFixed","toUpperCase","scales","grid","lineWidth","ticks","min","significantAnomalies","a","extremeAnomalies","avgZScore","reduce","sum","_c","$RefreshReg$"],"sources":["C:/Users/wasif/OneDrive/Desktop/weather app proj/frontend/src/components/AnomalyChart.tsx"],"sourcesContent":["import React from 'react';\nimport {\n  Chart as ChartJS,\n  CategoryScale,\n  LinearScale,\n  PointElement,\n  LineElement,\n  Title,\n  Tooltip,\n  Legend,\n  ScatterController\n} from 'chart.js';\nimport { Scatter } from 'react-chartjs-2';\nimport { Anomaly } from '../types';\n\nChartJS.register(\n  CategoryScale,\n  LinearScale,\n  PointElement,\n  LineElement,\n  Title,\n  Tooltip,\n  Legend,\n  ScatterController\n);\n\ninterface AnomalyChartProps {\n  anomalies: Anomaly[];\n  loading?: boolean;\n}\n\nconst AnomalyChart: React.FC<AnomalyChartProps> = ({ anomalies, loading }) => {\n  if (loading) {\n    return (\n      <div className=\"card animate-slide-up\">\n        <h3 className=\"text-xl font-bold text-gray-800 mb-4 flex items-center gap-2\">\n          📊 Anomaly Distribution (Z-Score Analysis)\n        </h3>\n        <div className=\"h-96 flex items-center justify-center\">\n          <div className=\"animate-pulse text-gray-500\">Loading anomaly data...</div>\n        </div>\n      </div>\n    );\n  }\n\n  if (!anomalies || anomalies.length === 0) {\n    return (\n      <div className=\"card animate-slide-up\">\n        <h3 className=\"text-xl font-bold text-gray-800 mb-4 flex items-center gap-2\">\n          📊 Anomaly Distribution (Z-Score Analysis)\n        </h3>\n        <div className=\"h-96 flex items-center justify-center\">\n          <div className=\"text-center text-gray-500\">\n            <p className=\"text-lg mb-2\">No anomalies detected</p>\n            <p className=\"text-sm\">Run anomaly detection to see results</p>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  // Extract year from description and prepare data for scatter plot\n  const chartData = anomalies.map(anomaly => {\n    // Try to extract year from description\n    const yearMatch = anomaly.description.match(/(\\d{4})/);\n    const year = yearMatch ? parseInt(yearMatch[1]) : 2020;\n    \n    return {\n      x: year,\n      y: Math.abs(anomaly.z_score),\n      severity: anomaly.severity,\n      type: anomaly.anomaly_type,\n      description: anomaly.description,\n      value: anomaly.value,\n      expected_value: anomaly.expected_value,\n      z_score: anomaly.z_score,\n      is_significant: anomaly.is_significant,\n      metric_type: anomaly.metric_type\n    };\n  });\n\n  // Separate data by type and severity for better visualization\n  const precipitationData = chartData.filter(d => d.type === 'precipitation');\n  const temperatureData = chartData.filter(d => d.type === 'temperature');\n  \n  // Further separate temperature by metric type if available\n  const maxTempData = temperatureData.filter(d => d.metric_type === 'tasmax');\n  const minTempData = temperatureData.filter(d => d.metric_type === 'tasmin');\n  const otherTempData = temperatureData.filter(d => !d.metric_type || (d.metric_type !== 'tasmax' && d.metric_type !== 'tasmin'));\n\n  const data = {\n    datasets: [\n      {\n        label: 'Precipitation Anomalies',\n        data: precipitationData,\n        backgroundColor: 'rgba(59, 130, 246, 0.8)',\n        borderColor: 'rgba(59, 130, 246, 1)',\n        pointRadius: (context: any) => {\n          const point = context.raw;\n          return point.is_significant ? 8 : 5;\n        },\n        pointHoverRadius: 10,\n      },\n      {\n        label: 'Max Temperature Anomalies',\n        data: maxTempData.length > 0 ? maxTempData : otherTempData.slice(0, Math.ceil(otherTempData.length / 2)),\n        backgroundColor: 'rgba(239, 68, 68, 0.8)',\n        borderColor: 'rgba(239, 68, 68, 1)',\n        pointRadius: (context: any) => {\n          const point = context.raw;\n          return point.is_significant ? 8 : 5;\n        },\n        pointHoverRadius: 10,\n      },\n      {\n        label: 'Min Temperature Anomalies',\n        data: minTempData.length > 0 ? minTempData : otherTempData.slice(Math.ceil(otherTempData.length / 2)),\n        backgroundColor: 'rgba(16, 185, 129, 0.8)',\n        borderColor: 'rgba(16, 185, 129, 1)',\n        pointRadius: (context: any) => {\n          const point = context.raw;\n          return point.is_significant ? 8 : 5;\n        },\n        pointHoverRadius: 10,\n      }\n    ]\n  };\n\n  const options = {\n    responsive: true,\n    maintainAspectRatio: false,\n    plugins: {\n      legend: {\n        position: 'top' as const,\n        labels: {\n          color: '#374151',\n          font: {\n            size: 12\n          },\n          usePointStyle: true,\n        }\n      },\n      title: {\n        display: true,\n        text: 'Weather Anomalies by Year and Z-Score (Notebook Methodology)',\n        color: '#1f2937',\n        font: {\n          size: 16,\n          weight: 'bold' as const\n        }\n      },\n      tooltip: {\n        callbacks: {\n          title: (context: any) => {\n            const point = context[0];\n            return `Year: ${point.parsed.x}`;\n          },\n          label: (context: any) => {\n            const point = context.raw;\n            const unit = point.type === 'precipitation' ? 'mm' : '°C';\n            return [\n              `${context.dataset.label}`,\n              `Z-Score: ${point.z_score.toFixed(2)} (|${Math.abs(point.z_score).toFixed(2)}|)`,\n              `Actual: ${point.value.toFixed(2)}${unit}`,\n              `Expected: ${point.expected_value.toFixed(2)}${unit}`,\n              `Deviation: ${(point.value - point.expected_value).toFixed(2)}${unit}`,\n              `Significant: ${point.is_significant ? 'Yes (|Z| ≥ 2.0)' : 'No'}`,\n              `Severity: ${point.severity.toUpperCase()}`,\n              `Metric: ${point.metric_type || point.type}`\n            ];\n          }\n        }\n      }\n    },\n    scales: {\n      x: {\n        type: 'linear' as const,\n        position: 'bottom' as const,\n        title: {\n          display: true,\n          text: 'Year',\n          color: '#374151',\n          font: {\n            size: 14\n          }\n        },\n        grid: {\n          color: '#e5e7eb',\n          lineWidth: 0.5\n        },\n        ticks: {\n          color: '#6b7280'\n        }\n      },\n      y: {\n        title: {\n          display: true,\n          text: 'Z-Score (Absolute Value)',\n          color: '#374151',\n          font: {\n            size: 14\n          }\n        },\n        grid: {\n          color: '#e5e7eb',\n          lineWidth: 0.5\n        },\n        ticks: {\n          color: '#6b7280'\n        },\n        min: 0\n      }\n    }\n  };\n\n  // Calculate statistics for the info panel\n  const significantAnomalies = anomalies.filter(a => a.is_significant);\n  const extremeAnomalies = anomalies.filter(a => a.severity === 'extreme');\n  const avgZScore = anomalies.reduce((sum, a) => sum + Math.abs(a.z_score), 0) / anomalies.length;\n\n  return (\n    <div className=\"card animate-slide-up\">\n      <h3 className=\"text-xl font-bold text-gray-800 mb-4 flex items-center gap-2\">\n        📊 Anomaly Distribution (Z-Score Analysis)\n      </h3>\n      <div className=\"h-96 mb-4\">\n        <Scatter data={data} options={options} />\n      </div>\n      \n      {/* Statistics Panel */}\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4 text-sm bg-gray-50 p-4 rounded-lg\">\n        <div className=\"text-center\">\n          <p className=\"font-semibold text-gray-700\">Total Anomalies</p>\n          <p className=\"text-2xl font-bold text-blue-600\">{anomalies.length}</p>\n        </div>\n        <div className=\"text-center\">\n          <p className=\"font-semibold text-gray-700\">Significant (|Z| ≥ 2)</p>\n          <p className=\"text-2xl font-bold text-green-600\">{significantAnomalies.length}</p>\n          <p className=\"text-xs text-gray-500\">{((significantAnomalies.length / anomalies.length) * 100).toFixed(1)}%</p>\n        </div>\n        <div className=\"text-center\">\n          <p className=\"font-semibold text-gray-700\">Extreme Events</p>\n          <p className=\"text-2xl font-bold text-red-600\">{extremeAnomalies.length}</p>\n          <p className=\"text-xs text-gray-500\">{((extremeAnomalies.length / anomalies.length) * 100).toFixed(1)}%</p>\n        </div>\n        <div className=\"text-center\">\n          <p className=\"font-semibold text-gray-700\">Avg |Z-Score|</p>\n          <p className=\"text-2xl font-bold text-purple-600\">{avgZScore.toFixed(2)}</p>\n        </div>\n      </div>\n\n      <div className=\"mt-4 text-sm text-gray-600\">\n        <p>\n          <strong>Notebook Methodology:</strong> Larger points indicate statistically significant anomalies (|Z-score| ≥ 2.0). \n          Z-scores calculated using monthly anomaly standard deviations from historical baselines.\n        </p>\n      </div>\n    </div>\n  );\n};\n\nexport default AnomalyChart; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}