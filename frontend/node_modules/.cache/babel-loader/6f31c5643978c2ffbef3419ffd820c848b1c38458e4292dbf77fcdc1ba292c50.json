{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\wasif\\\\OneDrive\\\\Desktop\\\\weather app proj\\\\frontend\\\\src\\\\components\\\\AnomalyChart.tsx\";\nimport React from 'react';\nimport { Chart as ChartJS, CategoryScale, LinearScale, PointElement, LineElement, Title, Tooltip, Legend, ScatterController } from 'chart.js';\nimport { Scatter } from 'react-chartjs-2';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nChartJS.register(CategoryScale, LinearScale, PointElement, LineElement, Title, Tooltip, Legend, ScatterController);\nconst AnomalyChart = ({\n  anomalies\n}) => {\n  // Extract year from description and prepare data for scatter plot\n  const chartData = anomalies.map(anomaly => {\n    // Try to extract year from description\n    const yearMatch = anomaly.description.match(/(\\d{4})/);\n    const year = yearMatch ? parseInt(yearMatch[1]) : 2020;\n    return {\n      x: year,\n      y: Math.abs(anomaly.z_score),\n      severity: anomaly.severity,\n      type: anomaly.anomaly_type,\n      description: anomaly.description,\n      value: anomaly.value\n    };\n  });\n\n  // Separate data by severity for different colors\n  const extremeData = chartData.filter(d => d.severity === 'extreme');\n  const highData = chartData.filter(d => d.severity === 'high');\n  const mediumData = chartData.filter(d => d.severity === 'medium');\n  const lowData = chartData.filter(d => d.severity === 'low');\n  const data = {\n    datasets: [{\n      label: 'Extreme Anomalies',\n      data: extremeData,\n      backgroundColor: 'rgba(239, 68, 68, 0.8)',\n      borderColor: 'rgba(239, 68, 68, 1)',\n      pointRadius: 8,\n      pointHoverRadius: 10\n    }, {\n      label: 'High Severity',\n      data: highData,\n      backgroundColor: 'rgba(245, 101, 101, 0.8)',\n      borderColor: 'rgba(245, 101, 101, 1)',\n      pointRadius: 6,\n      pointHoverRadius: 8\n    }, {\n      label: 'Medium Severity',\n      data: mediumData,\n      backgroundColor: 'rgba(251, 191, 36, 0.8)',\n      borderColor: 'rgba(251, 191, 36, 1)',\n      pointRadius: 5,\n      pointHoverRadius: 7\n    }, {\n      label: 'Low Severity',\n      data: lowData,\n      backgroundColor: 'rgba(59, 130, 246, 0.8)',\n      borderColor: 'rgba(59, 130, 246, 1)',\n      pointRadius: 4,\n      pointHoverRadius: 6\n    }]\n  };\n  const options = {\n    responsive: true,\n    maintainAspectRatio: false,\n    plugins: {\n      legend: {\n        position: 'top',\n        labels: {\n          color: '#374151',\n          font: {\n            size: 12\n          }\n        }\n      },\n      title: {\n        display: true,\n        text: 'Weather Anomalies by Year and Severity (Z-Score)',\n        color: '#1f2937',\n        font: {\n          size: 16,\n          weight: 'bold'\n        }\n      },\n      tooltip: {\n        callbacks: {\n          title: context => {\n            const point = context[0];\n            return `Year: ${point.parsed.x}`;\n          },\n          label: context => {\n            const point = context.raw;\n            return [`Z-Score: ${point.y.toFixed(2)}`, `Type: ${point.type}`, `Severity: ${point.severity}`, `Value: ${point.value.toFixed(2)}`, `Description: ${point.description.substring(0, 50)}...`];\n          }\n        }\n      }\n    },\n    scales: {\n      x: {\n        type: 'linear',\n        position: 'bottom',\n        title: {\n          display: true,\n          text: 'Year',\n          color: '#374151',\n          font: {\n            size: 14\n          }\n        },\n        grid: {\n          color: '#e5e7eb'\n        },\n        ticks: {\n          color: '#6b7280'\n        }\n      },\n      y: {\n        title: {\n          display: true,\n          text: 'Z-Score (Absolute Value)',\n          color: '#374151',\n          font: {\n            size: 14\n          }\n        },\n        grid: {\n          color: '#e5e7eb'\n        },\n        ticks: {\n          color: '#6b7280'\n        }\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"card animate-slide-up\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"text-xl font-bold text-gray-800 mb-4 flex items-center gap-2\",\n      children: \"\\uD83D\\uDCC8 Anomaly Distribution Over Time\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"h-96\",\n      children: /*#__PURE__*/_jsxDEV(Scatter, {\n        data: data,\n        options: options\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-4 text-sm text-gray-600\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Higher Z-scores indicate more extreme anomalies.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 11\n        }, this), \"Z-score \\u22652.5 = Extreme, \\u22652.0 = High, \\u22651.5 = Medium\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 171,\n    columnNumber: 5\n  }, this);\n};\n_c = AnomalyChart;\nexport default AnomalyChart;\nvar _c;\n$RefreshReg$(_c, \"AnomalyChart\");","map":{"version":3,"names":["React","Chart","ChartJS","CategoryScale","LinearScale","PointElement","LineElement","Title","Tooltip","Legend","ScatterController","Scatter","jsxDEV","_jsxDEV","register","AnomalyChart","anomalies","chartData","map","anomaly","yearMatch","description","match","year","parseInt","x","y","Math","abs","z_score","severity","type","anomaly_type","value","extremeData","filter","d","highData","mediumData","lowData","data","datasets","label","backgroundColor","borderColor","pointRadius","pointHoverRadius","options","responsive","maintainAspectRatio","plugins","legend","position","labels","color","font","size","title","display","text","weight","tooltip","callbacks","context","point","parsed","raw","toFixed","substring","scales","grid","ticks","className","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/wasif/OneDrive/Desktop/weather app proj/frontend/src/components/AnomalyChart.tsx"],"sourcesContent":["import React from 'react';\nimport {\n  Chart as ChartJS,\n  CategoryScale,\n  LinearScale,\n  PointElement,\n  LineElement,\n  Title,\n  Tooltip,\n  Legend,\n  ScatterController\n} from 'chart.js';\nimport { Scatter } from 'react-chartjs-2';\nimport { Anomaly } from '../types';\n\nChartJS.register(\n  CategoryScale,\n  LinearScale,\n  PointElement,\n  LineElement,\n  Title,\n  Tooltip,\n  Legend,\n  ScatterController\n);\n\ninterface AnomalyChartProps {\n  anomalies: Anomaly[];\n}\n\nconst AnomalyChart: React.FC<AnomalyChartProps> = ({ anomalies }) => {\n  // Extract year from description and prepare data for scatter plot\n  const chartData = anomalies.map(anomaly => {\n    // Try to extract year from description\n    const yearMatch = anomaly.description.match(/(\\d{4})/);\n    const year = yearMatch ? parseInt(yearMatch[1]) : 2020;\n    \n    return {\n      x: year,\n      y: Math.abs(anomaly.z_score),\n      severity: anomaly.severity,\n      type: anomaly.anomaly_type,\n      description: anomaly.description,\n      value: anomaly.value\n    };\n  });\n\n  // Separate data by severity for different colors\n  const extremeData = chartData.filter(d => d.severity === 'extreme');\n  const highData = chartData.filter(d => d.severity === 'high');\n  const mediumData = chartData.filter(d => d.severity === 'medium');\n  const lowData = chartData.filter(d => d.severity === 'low');\n\n  const data = {\n    datasets: [\n      {\n        label: 'Extreme Anomalies',\n        data: extremeData,\n        backgroundColor: 'rgba(239, 68, 68, 0.8)',\n        borderColor: 'rgba(239, 68, 68, 1)',\n        pointRadius: 8,\n        pointHoverRadius: 10,\n      },\n      {\n        label: 'High Severity',\n        data: highData,\n        backgroundColor: 'rgba(245, 101, 101, 0.8)',\n        borderColor: 'rgba(245, 101, 101, 1)',\n        pointRadius: 6,\n        pointHoverRadius: 8,\n      },\n      {\n        label: 'Medium Severity',\n        data: mediumData,\n        backgroundColor: 'rgba(251, 191, 36, 0.8)',\n        borderColor: 'rgba(251, 191, 36, 1)',\n        pointRadius: 5,\n        pointHoverRadius: 7,\n      },\n      {\n        label: 'Low Severity',\n        data: lowData,\n        backgroundColor: 'rgba(59, 130, 246, 0.8)',\n        borderColor: 'rgba(59, 130, 246, 1)',\n        pointRadius: 4,\n        pointHoverRadius: 6,\n      }\n    ]\n  };\n\n  const options = {\n    responsive: true,\n    maintainAspectRatio: false,\n    plugins: {\n      legend: {\n        position: 'top' as const,\n        labels: {\n          color: '#374151',\n          font: {\n            size: 12\n          }\n        }\n      },\n      title: {\n        display: true,\n        text: 'Weather Anomalies by Year and Severity (Z-Score)',\n        color: '#1f2937',\n        font: {\n          size: 16,\n          weight: 'bold' as const\n        }\n      },\n      tooltip: {\n        callbacks: {\n          title: (context: any) => {\n            const point = context[0];\n            return `Year: ${point.parsed.x}`;\n          },\n          label: (context: any) => {\n            const point = context.raw;\n            return [\n              `Z-Score: ${point.y.toFixed(2)}`,\n              `Type: ${point.type}`,\n              `Severity: ${point.severity}`,\n              `Value: ${point.value.toFixed(2)}`,\n              `Description: ${point.description.substring(0, 50)}...`\n            ];\n          }\n        }\n      }\n    },\n    scales: {\n      x: {\n        type: 'linear' as const,\n        position: 'bottom' as const,\n        title: {\n          display: true,\n          text: 'Year',\n          color: '#374151',\n          font: {\n            size: 14\n          }\n        },\n        grid: {\n          color: '#e5e7eb'\n        },\n        ticks: {\n          color: '#6b7280'\n        }\n      },\n      y: {\n        title: {\n          display: true,\n          text: 'Z-Score (Absolute Value)',\n          color: '#374151',\n          font: {\n            size: 14\n          }\n        },\n        grid: {\n          color: '#e5e7eb'\n        },\n        ticks: {\n          color: '#6b7280'\n        }\n      }\n    }\n  };\n\n  return (\n    <div className=\"card animate-slide-up\">\n      <h3 className=\"text-xl font-bold text-gray-800 mb-4 flex items-center gap-2\">\n        📈 Anomaly Distribution Over Time\n      </h3>\n      <div className=\"h-96\">\n        <Scatter data={data} options={options} />\n      </div>\n      <div className=\"mt-4 text-sm text-gray-600\">\n        <p>\n          <strong>Higher Z-scores indicate more extreme anomalies.</strong> \n          Z-score ≥2.5 = Extreme, ≥2.0 = High, ≥1.5 = Medium\n        </p>\n      </div>\n    </div>\n  );\n};\n\nexport default AnomalyChart; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}